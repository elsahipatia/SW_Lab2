<!DOCTYPE html>
<html>
  <head>
    <meta name="tipo_contenido" content="text/html;" http-equiv="content-type" charset="utf-8">
	<title>Preguntas</title>
    <link rel='stylesheet' type='text/css' href='estilos/style.css' />
	<link rel='stylesheet' 
		   type='text/css' 
		   media='only screen and (min-width: 530px) and (min-device-width: 481px)'
		   href='estilos/wide.css' />
	<link rel='stylesheet' 
		   type='text/css' 
		   media='only screen and (max-width: 480px)'
		   href='estilos/smartphone.css' />
  </head>
  <body>
  <div id='page-wrap'>
	<header class='main' id='h1'>
		<span class="right"><a href="registro">Registrarse</a></span>
      		<span class="right"><a href="login">Login</a></span>
      		<span class="right" style="display:none;"><a href="/logout">Logout</a></span>
		<h2>Quiz: el juego de las preguntas</h2>
    </header>
	<nav class='main' id='n1' role='navigation'>
		<span><a href='layout.html'>Inicio</a></span>
		<span><a href='quizes.html'>Insertar Pregunta</a></span>
		<span><a href='creditos.html'>Creditos</a></span>
	</nav>
    <section class="main" id="s1">
    
	<div>
		<form  id='questionForm' name='questionForm' onsubmit="return validateForm()" action="prueba.php" >
			<table>
				<tr>
					<td align="left">Email*<input id="email" type="text"></td>
				</tr>
				<tr>
					<td align="left">Enunciado de la pregunta*: <input id="question" type="text" class="response"></td>
				</tr>
				<tr>
					<td align="left">Respuesta correcta*: <input id="correct" type="text" class="response"></td>
				</tr>
				<tr>
					<td align="left">Respuesta incorrecta*: <input id="incorrect1" type="text" class="response"></td>
				</tr>
				<tr>
					<td align="left">Respuesta incorrecta*: <input id="incorrect2" type="text" class="response"></td>
				</tr>
				<tr>
					<td align="left">Respuesta incorrecta*: <input id="incorrect3" type="text" class="response"></td>
				</tr>

				<tr>
					<td align="left">Complejidad (0-5)*: <input id="complexity" type="text"></td>
				</tr>
				<tr>
					<td align="left">Tema (subject)*: <input id="subject" type="text"></td>
				</tr>
                <tr>
                    <td align="left"><button id="examine" >Examinar...</button> No se ha seleccionado ningún archivo </td>
                </tr>
                <tr>
                    <td align="left"><button id="send" type="submit">Enviar solicitud</button> </td>
                </tr>
			</table>
			<fieldset>

			</fieldset>
		</form>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script>
            function validateForm() {
                var emailReg = new RegExp(/^[a-z]+[0-9]{3}@ikasle\.ehu\.eus$/u);
                var complexityReg = new RegExp(/^[0-5]$/u)
				var questionReg = new RegExp(/^.{10,}$/u)
                var emailText = $('#email').val();
                var complexityText = $('#complexity').val();
                var questionText = $('#question').val();
                var correctText = $('#correct').val();
                var incorrect1Text = $('#incorrect1').val();
                var incorrect2Text = $('#incorrect2').val();
                var incorrect3Text = $('#incorrect3').val();
                var subjectText = $('#subject').val();




                if (!emailReg.test(emailText)) {
                    alert('Correo inválido.');
                    return false;
                }
                if (!questionReg.test(questionText)) {
                    alert('El enunciado de la pregunta no es lo suficientemente largo. (Mínimo 10 carácteres)');
                    return false;
                }

                if (correctText==null||correctText=='') {
                    alert('Introduce una respuesta correcta.');
                    return false;
                }

                if (incorrect1Text==null||incorrect1Text=='') {
                    alert('Introduce la primera respuesta incorrecta.');
                    return false;
                }
                if (incorrect2Text==null||incorrect2Text=='') {
                    alert('Introduce la segunda respuesta incorrecta.');
                    return false;
                }
                if (incorrect3Text==null||incorrect3Text=='') {
                    alert('Introduce la tercera respuesta incorrecta.');
                    return false;
                }
                if (!complexityReg.test(complexityText)) {
                    alert('Introduce un número de 0 al 5.');
                    return false;
                }
                if (subjectText==null||subjectText=='') {
                    alert('Introduce un tema.');
                    return false;
                }
                return true;
            }
		</script>
	</div>
    </section>


	  <footer class='main' id='f1'>
		<a href='https://github.com/elsahipatia/SW_Lab2'>Link GITHUB</a>
	</footer>
</div>
</body>
</html>
